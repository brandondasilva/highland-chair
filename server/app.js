"use strict";const express=require("express"),PORT=process.env.PORT||3e3;var auth=require("http-auth"),basic=auth.basic({realm:"Restricted Access!"},function(a,b,c){c(a===process.env.AUTH_USER&&b===process.env.AUTH_PASS)}),app=express(),bodyParser=require("body-parser"),helmet=require("helmet");app.set("port",PORT),app.use(auth.connect(basic));var server=require("http").createServer(basic);app.use(express["static"](__dirname+"/public")),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!0})),app.use(helmet());var contact=require("./routes/contact");app.use("/contact",contact);var cms=require("./routes/cms"),dining=require("./routes/cms/dining"),bar=require("./routes/cms/bar");app.use("/cms",cms),app.use("/cms/dining",dining),app.use("/cms/bar",bar),app.get("/",function(a,b){b.set("Access-Control-Allow-Origin","*"),b.send("ok")}),app.listen(app.get("port"),function(){console.log("Node app is running on port",app.get("port"))});